<!DOCTYPE html>
<html lang="en">
<head>
    <title>ProPokerTools2 :3</title>
    <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
    <script type="text/javascript">
    // This should be in index.js, I was being lazy
    $(document).ready(function () {
        $('#submitBtn').click(function () {
            $.post("/submit", {
                table: ['ah', 'td', 'jh'],
                hands: [['ac', 'jd'], ['as', 'qs']]
            }, function (data) {
                var id = data.id;

                function reqStatus() {
                    $.get("/status/" + id, function (data) {
                        if (!/^(?:Error|Running)/.test(data.message)) {
                            $('#output').append('<pre>' + JSON.stringify(data) + '</pre>');
                        } else {
                            setTimeout(reqStatus, 100);
                        }
                    });
                }

                setTimeout(reqStatus, 100);
            });
        });
    });
    </script>
</head>
</html>
<body>
<h1>ProPokerTools2</h1>

<button id="submitBtn">Click Me Fool!</button>

<div id="output"></div>
</body>